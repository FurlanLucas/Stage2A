# Characterization and identification of flow sensors in extreme conditions

Work presented at ENSEIRB-MATMECA in the Institut National Polytechinique de Bordeaux as a second-year internship, carried out at the Laboratory for the Integration of Material into the System (IMS) and at the Institute of Mechanics and Engineering (I2M).

Author: Lucas Furlan
Supervisors: St√©phane Victor, Jean-Luc Battaglia and Andrzej Kusiak.

## Labview thermal identification

This is a Labview program that was designed to control the input and data acquisition applied to a thermal system. It uses a high efficiency power supply from the EA-PSI 9200-25 series and a Sefram DAS 240 data logger. Communication with the first is done using the Modbus USB protocol and the second uses the Modbus TCP-IP. As part of the implementation of this interface, it is important to note that a common ethernet cable **cannot be used**: you need a crossover ethernet cable or a switch (which was used).

### Drivers and Packages

The "labview main project" folder contains all the labview files for the use of the program. On the other hand, it is absolutely necessary to download and install the drivers and packages to communicate with the two machines. For the latter, the following procedure must be followed:

1. Run the PSI9000 USB driver installer;
2. Copy and paste the IF-XX folder with all its files into the Labview packages folder. Normally it is located in the same folder that labView was installed, for example: << C:Programs(x86)\NationalInstruments\LabVIEW (version)\instr.lib >>.
3. Download and run the NVISA package installer, available at << https://www.ni.com/fr-fr/support/downloads/drivers/download.ni-visa.html#480875 >>. It will allow the use of the Modbus Master package for the TCP-IP protocol. This part can take some time.
4. Install the Modbus with the JKI VI Package Manager (VIPM), using the link << https://www.ni.com/fr-fr/support/downloads/tools-network/download/unpackaged.modbus-master .374378.html >>. It will be necessary to log in with an NI user account.


### Using the software

Once the program is going to be executed, the user should see the front face of the VI on the screen. It consists of a data generation part on the left and a data acquisition part on the right. First of all, you have to set up the connection with the power supply: in the field << Desired machine number >> you have to enter the serial number of the connected machine. If you don't know the serial number, you have to run the code once (with other parameters not set) and note the third column that appears in "Machines found".

![Alt text](https://github.com/FurlanLucas/Stage2A/blob/main/mdFig/mainVIp_markedS.png)

The generation of pseudo random data (PRBS) can be done either with Labview itself, by specifying the frequency and amplitude values, or with the reading of a CSV file. In the last case, it is necessary to specify the path for the desired file, knowing that it will only contain a vector of samples and the temporal information will be given by the sampling frequency. To generate the signal with Labview, the following characteristics must be specified:

- Sampling frequency: frequency in which the power source will change its output value;
- Maximum frequency: it will be at the maximum frequency in the signal created. In a DSP, it will correspond to the frequency of the main lobe. It must always be smaller than the sampling frequency described before;
- Simulation time: total desired simulation time. The number of samples will therefore be equal to sampling frequency*simulation time. For such long times, it may be necessary to adjust the history of the charts;
- Maximum amplitude and minimum amplitude: they will be the maximum voltage level and the minimum voltage level generated by the source, knowing that the minimum level must always be positive.

Once the data generation information has been created, the acquisition information must be set. First, you have to find the IP address of the DAS 240: you have to go to "setup" in the menu of the recorder. The address will appear on the left.

![Alt text](https://github.com/FurlanLucas/Stage2A/blob/main/mdFig/TCPIP.bmp)

Next, you must enter the sampling frequency and also the name of the analysis to be made. The acquired data will be saved in the default "output" folder and can also be changed. As a last part, it is necessary to say the safety temperature above which the power source will be extended in "Maximum temperature".

When the code is going to be executed, you have to wait for the two square green LEDs which will light up when the power source and the system are